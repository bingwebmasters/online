<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Consulta CNPJ</title>

<style>
* {
    box-sizing: border-box;
    font-family: Arial, Helvetica, sans-serif;
}

body {
    margin: 0;
    min-height: 100vh;
    background-size: cover;
    background-position: center;
    transition: background-image 0.5s;
}

body.claro {
    background-image: url("https://images.unsplash.com/photo-1521791136064-7986c2920216");
}

body.escuro {
    background-image: url("https://images.unsplash.com/photo-1518770660439-4636190af475");
}

.container {
    max-width: 600px;
    margin: 60px auto;
    padding: 20px;
    border-radius: 10px;
    background: rgba(255,255,255,0.85);
    color: #000;
}

body.escuro .container {
    background: rgba(0,0,0,0.7);
    color: #fff;
}

input, textarea, button {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
}

textarea {
    height: 220px;
    resize: none;
}

.botoes {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}

button {
    border: none;
    border-radius: 5px;
    font-weight: bold;
    cursor: pointer;
}

button:hover {
    opacity: 0.85;
}
</style>
</head>

<body class="claro">

<div class="container">
    <h1>Consulta de CNPJ</h1>

    <input type="text" id="cnpj" value="48.851.488/0001-97">

    <div class="botoes">
        <button onclick="consultarCNPJ()">Consultar</button>
        <button onclick="limpar()">Limpar</button>
        <button onclick="copiar()">Copiar</button>
        <button onclick="trocarTema()">Trocar Tema</button>
    </div>

    <textarea id="resultado" placeholder="Resultado aparecerá aqui..."></textarea>
</div>

<script>
function formatarCNPJ(cnpj) {
    return cnpj.replace(/\D/g, '');
}

async function consultarCNPJ() {
    const cnpj = formatarCNPJ(document.getElementById('cnpj').value);
    const resultado = document.getElementById('resultado');

    if (cnpj.length !== 14) {
        alert('CNPJ inválido');
        return;
    }

    resultado.value = 'Consultando...';

    try {
        const res = await fetch(`https://brasilapi.com.br/api/cnpj/v1/${cnpj}`);
        const data = await res.json();

        resultado.value = `
Razão Social: ${data.razao_social}
Nome Fantasia: ${data.nome_fantasia}
CNPJ: ${data.cnpj}
Situação: ${data.descricao_situacao_cadastral}

Endereço:
${data.logradouro}, ${data.numero}
${data.bairro} - ${data.municipio}/${data.uf}

Telefone: ${data.ddd_telefone_1 || 'Não informado'}
Email: ${data.email || 'Não informado'}
        `;
    } catch (e) {
        resultado.value = 'Erro ao consultar CNPJ';
    }
}

function limpar() {
    document.getElementById('cnpj').value = '';
    document.getElementById('resultado').value = '';
}

function copiar() {
    const campo = document.getElementById('resultado');
    campo.select();
    document.execCommand('copy');
    alert('Dados copiados!');
}

function trocarTema() {
    document.body.classList.toggle('escuro');
    document.body.classList.toggle('claro');
}
</script>

</body>
</html>
